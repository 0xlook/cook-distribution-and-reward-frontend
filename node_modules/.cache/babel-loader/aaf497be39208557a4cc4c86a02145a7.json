{"ast":null,"code":"var _jsxFileName = \"/Users/huanwen/Work/Cook/cook-frontend/src/components/CookPool/Zap.tsx\";\nimport React, { useState } from 'react';\nimport { Modal } from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport { BalanceBlock } from '../common/index';\nimport { zapCook } from '../../utils/web3';\nimport { toBaseUnitBN } from '../../utils/number';\nimport { COOK } from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport ActionButton from \"../common/ActionButton\";\nimport { Row, Col } from 'react-grid-system';\nimport ListTable from \"../PoolList/ListTable\";\n\nfunction Zap({\n  user,\n  pools,\n  cookAvailable,\n  selected\n}) {\n  const [zapAmount, setZapAmount] = useState(new BigNumber(0));\n  const [opened, setOpened] = useState(false);\n\n  const close = () => {\n    setOpened(false);\n    setZapAmount(new BigNumber(0));\n  };\n\n  const onChangeAmountCOOK = amountCOOK => {\n    const amountCOOKBN = new BigNumber(amountCOOK);\n    setZapAmount(amountCOOKBN);\n  };\n\n  const renderPoolZap = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ActionButton, {\n      label: \"Zap\",\n      size: 14,\n      onClick: () => {\n        setOpened(true);\n      },\n      disabled: !user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      visible: opened,\n      onClose: () => close(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: 40,\n        fontWeight: 700\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, \"Zap\"), /*#__PURE__*/React.createElement(ListTable, {\n      pools: pools,\n      selectedPool: selected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(BalanceBlock, {\n      asset: \"Available Cook\",\n      balance: cookAvailable,\n      suffix: \"Cook\",\n      type: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 28\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(BigNumberInput, {\n      adornment: \"Cook\",\n      value: zapAmount,\n      max: () => {\n        onChangeAmountCOOK(cookAvailable);\n      },\n      setter: onChangeAmountCOOK,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ActionButton, {\n      label: \"Cancel\",\n      type: \"cancel\",\n      onClick: () => {\n        setOpened(false);\n      },\n      disabled: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ActionButton, {\n      label: \"Zap\",\n      type: \"filled\",\n      onClick: () => {\n        if (selected) {\n          zapCook(selected, toBaseUnitBN(zapAmount, COOK.decimals), hash => {\n            setZapAmount(new BigNumber(0));\n            close();\n          });\n        }\n      },\n      disabled: selected === '' || user === '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }))))));\n  };\n\n  return renderPoolZap();\n}\n\nexport default Zap;","map":{"version":3,"sources":["/Users/huanwen/Work/Cook/cook-frontend/src/components/CookPool/Zap.tsx"],"names":["React","useState","Modal","BigNumber","BalanceBlock","zapCook","toBaseUnitBN","COOK","BigNumberInput","ActionButton","Row","Col","ListTable","Zap","user","pools","cookAvailable","selected","zapAmount","setZapAmount","opened","setOpened","close","onChangeAmountCOOK","amountCOOK","amountCOOKBN","renderPoolZap","padding","textAlign","fontSize","fontWeight","decimals","hash"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Modal, DropDown\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, PriceSection\n} from '../common/index';\nimport { zapCook } from '../../utils/web3';\nimport { toBaseUnitBN } from '../../utils/number';\nimport { COOK } from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport colors from '../../constants/colors';\nimport ActionButton from \"../common/ActionButton\";\nimport HelpText from \"../common/HelpText\";\nimport { Row, Col } from 'react-grid-system';\nimport ListTable from \"../PoolList/ListTable\";\n\ntype ZapProps = {\n  user: string,\n  pools: Array<{ name: string, address: string, rewardPerBlock: BigNumber, lockedUpPeriod: BigNumber }>,\n  cookAvailable: BigNumber,\n  selected: string,\n};\n\nfunction Zap({\n  user, pools, cookAvailable, selected,\n}: ZapProps) {\n\n  const [zapAmount, setZapAmount] = useState(new BigNumber(0));\n  const [opened, setOpened] = useState(false)\n\n  const close = () => {\n    setOpened(false);\n    setZapAmount(new BigNumber(0));\n  }\n\n  const onChangeAmountCOOK = (amountCOOK) => {\n\n    const amountCOOKBN = new BigNumber(amountCOOK)\n    setZapAmount(amountCOOKBN);\n  };\n  const renderPoolZap = () => {\n    return (\n      <div>\n        <ActionButton label={\"Zap\"}\n          size={14}\n          onClick={() => {\n            setOpened(true)\n          }} disabled={!user} />\n        <Modal visible={opened} onClose={() => close()}>\n          <div style={{ padding: 20 }}>\n            <h1 style={{ textAlign: \"center\", fontSize: 40, fontWeight: 700 }}>Zap</h1>\n            <ListTable pools={pools} selectedPool={selected} />\n\n            <Row>\n              <Col xs={12}><BalanceBlock asset=\"Available Cook\" balance={cookAvailable} suffix={\"Cook\"} type={\"row\"} /></Col>\n              <Col xs={12}>\n                <BigNumberInput\n                  adornment=\"Cook\"\n                  value={zapAmount}\n                  max={() => {\n                    onChangeAmountCOOK(cookAvailable);\n                  }}\n                  setter={onChangeAmountCOOK}\n                />\n              </Col>\n              <Col xs={6}>\n                <ActionButton\n                  label=\"Cancel\"\n                  type=\"cancel\"\n                  onClick={() => {\n                    setOpened(false)\n                  }}\n                  disabled={false}\n                />\n              </Col>\n              <Col xs={6} >\n                <ActionButton\n                  label={\"Zap\"}\n                  type=\"filled\"\n                  onClick={() => {\n                    if (selected) {\n                      zapCook(\n                        selected,\n                        toBaseUnitBN(zapAmount, COOK.decimals),\n                        (hash) => {\n                          setZapAmount(new BigNumber(0));\n                          close()\n                        }\n                      );\n                    }\n                  }}\n                  disabled={selected === '' || user === ''}\n                />\n              </Col>\n\n            </Row>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n\n  return (\n    renderPoolZap()\n  );\n}\n\nexport default Zap;\n"]},"metadata":{},"sourceType":"module"}