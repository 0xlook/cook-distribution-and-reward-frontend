{"ast":null,"code":"import _regeneratorRuntime from\"/Users/huanwen/Work/Cook/cook-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/huanwen/Work/Cook/cook-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/* eslint-disable camelcase */import Web3 from'web3';import BigNumber from'bignumber.js';import{notify}from'./txNotifier.ts';var poolAbi=require('../constants/abi/Pool.json');var mockPoolAbi=require('../constants/abi/MockPool.json');var distributionAbi=require('../constants/abi/TokenDistribution.json');var dollarAbi=require('../constants/abi/Dollar.json');var oracleAbi=require('../constants/abi/Oracle.json');var priceComsumerAbi=require('../constants/abi/PriceConsumer.json');var UINT256_MAX='0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';/**\n * ERC20 Utilities\n */export var approve=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(tokenAddr,spender,callback){var amt,account,oToken,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:amt=_args.length>3&&_args[3]!==undefined?_args[3]:UINT256_MAX;_context.next=3;return checkConnectedAndGetAddress();case 3:account=_context.sent;oToken=new window.web3.eth.Contract(dollarAbi,tokenAddr);_context.next=7;return oToken.methods.approve(spender,amt).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);if(callback){callback(hash);}});case 7:case\"end\":return _context.stop();}}},_callee);}));return function approve(_x,_x2,_x3){return _ref.apply(this,arguments);};}();/**\n * Connection Utilities\n */export var updateModalMode=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(theme){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:window.darkMode=theme==='dark';case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function updateModalMode(_x4){return _ref2.apply(this,arguments);};}();export var connect=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var addresses;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:window.web3=new Web3(window.ethereum);_context3.next=3;return window.web3.eth.getAccounts();case 3:addresses=_context3.sent;if(addresses.length){_context3.next=15;break;}_context3.prev=5;_context3.next=8;return window.ethereum.enable();case 8:addresses=_context3.sent;_context3.next=15;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](5);console.log(_context3.t0);return _context3.abrupt(\"return\",false);case 15:return _context3.abrupt(\"return\",addresses.length?addresses[0].toLowerCase():null);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[5,11]]);}));return function connect(){return _ref3.apply(this,arguments);};}();// eslint-disable-next-line consistent-return\nexport var checkConnectedAndGetAddress=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var addresses;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return window.web3.eth.getAccounts();case 2:addresses=_context4.sent;if(addresses.length){_context4.next=12;break;}_context4.prev=4;_context4.next=7;return window.ethereum.enable();case 7:addresses=_context4.sent;_context4.next=12;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](4);case 12:return _context4.abrupt(\"return\",addresses[0]);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[4,10]]);}));return function checkConnectedAndGetAddress(){return _ref4.apply(this,arguments);};}();/**\n * Pool\n */export var stake=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return checkConnectedAndGetAddress();case 2:account=_context5.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context5.next=6;return poolContract.methods.stake(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function stake(_x5,_x6,_x7){return _ref5.apply(this,arguments);};}();export var unstake=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return checkConnectedAndGetAddress();case 2:account=_context6.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context6.next=6;return poolContract.methods.unstake(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function unstake(_x8,_x9,_x10){return _ref6.apply(this,arguments);};}();export var claim=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return checkConnectedAndGetAddress();case 2:account=_context7.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context7.next=6;return poolContract.methods.claim(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context7.stop();}}},_callee7);}));return function claim(_x11,_x12,_x13){return _ref7.apply(this,arguments);};}();export var zap=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return checkConnectedAndGetAddress();case 2:account=_context8.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context8.next=6;return poolContract.methods.zap(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context8.stop();}}},_callee8);}));return function zap(_x14,_x15,_x16){return _ref8.apply(this,arguments);};}();export var harvest=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return checkConnectedAndGetAddress();case 2:account=_context9.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context9.next=6;return poolContract.methods.harvest(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context9.stop();}}},_callee9);}));return function harvest(_x17,_x18,_x19){return _ref9.apply(this,arguments);};}();// token distribution\nexport var withdraw=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(cookDistribution,amount){var account,distributionContract;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return checkConnectedAndGetAddress();case 2:account=_context10.sent;distributionContract=new window.web3.eth.Contract(distributionAbi,cookDistribution);_context10.next=6;return distributionContract.methods.withdraw(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context10.stop();}}},_callee10);}));return function withdraw(_x20,_x21){return _ref10.apply(this,arguments);};}();export var getWithdrawRecords=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(cookDistribution){var account,distributionContract,events;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return checkConnectedAndGetAddress();case 2:account=_context11.sent;distributionContract=new window.web3.eth.Contract(distributionAbi,cookDistribution);_context11.next=6;return distributionContract.getPastEvents('TokensWithdrawal',{filter:{userAddress:account},fromBlock:0});case 6:events=_context11.sent;return _context11.abrupt(\"return\",events);case 8:case\"end\":return _context11.stop();}}},_callee11);}));return function getWithdrawRecords(_x22){return _ref11.apply(this,arguments);};}();export var distributionZap=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(cookDistribution,poolAddress,amount,callback){var account,distributionContract;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return checkConnectedAndGetAddress();case 2:account=_context12.sent;distributionContract=new window.web3.eth.Contract(distributionAbi,cookDistribution);_context12.next=6;return distributionContract.methods.zap(new BigNumber(amount).toFixed(),poolAddress).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context12.stop();}}},_callee12);}));return function distributionZap(_x23,_x24,_x25,_x26){return _ref12.apply(this,arguments);};}();/** Admin functions (TESTING ONLY) */export var setDay=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(cookDistribution,dayNumber){var account,distributionContract;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return checkConnectedAndGetAddress();case 2:account=_context13.sent;distributionContract=new window.web3.eth.Contract(distributionAbi,cookDistribution);_context13.next=6;return distributionContract.methods.setToday(new BigNumber(dayNumber)).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context13.stop();}}},_callee13);}));return function setDay(_x27,_x28){return _ref13.apply(this,arguments);};}();export var setCookPrice=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(oracle,price){var account,oracleContract;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return checkConnectedAndGetAddress();case 2:account=_context14.sent;oracleContract=new window.web3.eth.Contract(oracleAbi,oracle);_context14.next=6;return oracleContract.methods.set(new BigNumber(price)).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context14.stop();}}},_callee14);}));return function setCookPrice(_x29,_x30){return _ref14.apply(this,arguments);};}();// deployer account only\nexport var updatePriceFeed=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(cookDistribution){var account,distributionContract;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return checkConnectedAndGetAddress();case 2:account=_context15.sent;distributionContract=new window.web3.eth.Contract(distributionAbi,cookDistribution);_context15.next=6;return distributionContract.methods.updatePriceFeed().send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context15.stop();}}},_callee15);}));return function updatePriceFeed(_x31){return _ref15.apply(this,arguments);};}();export var setWETHPrice=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(priceComsumer,price){var account,priceComsumerContract;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return checkConnectedAndGetAddress();case 2:account=_context16.sent;priceComsumerContract=new window.web3.eth.Contract(priceComsumerAbi,priceComsumer);_context16.next=6;return priceComsumerContract.methods.set(new BigNumber(price)).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context16.stop();}}},_callee16);}));return function setWETHPrice(_x32,_x33){return _ref16.apply(this,arguments);};}();export var setPoolStakeLockupDuration=/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(pool,lockupDays){var account,poolContract;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return checkConnectedAndGetAddress();case 2:account=_context17.sent;poolContract=new window.web3.eth.Contract(mockPoolAbi,pool);_context17.next=6;return poolContract.methods.setStakeLockupDuration(new BigNumber(lockupDays).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context17.stop();}}},_callee17);}));return function setPoolStakeLockupDuration(_x34,_x35){return _ref17.apply(this,arguments);};}();export var setPoolRewardPerBlock=/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(pool,rewards){var account,poolContract;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return checkConnectedAndGetAddress();case 2:account=_context18.sent;poolContract=new window.web3.eth.Contract(mockPoolAbi,pool);_context18.next=6;return poolContract.methods.setRewardPerBlock(new BigNumber(rewards).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context18.stop();}}},_callee18);}));return function setPoolRewardPerBlock(_x36,_x37){return _ref18.apply(this,arguments);};}();export var setPoolBlockNumber=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(pool,blockNumber){var account,poolContract;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return checkConnectedAndGetAddress();case 2:account=_context19.sent;poolContract=new window.web3.eth.Contract(mockPoolAbi,pool);_context19.next=6;return poolContract.methods.setBlockNumber(new BigNumber(blockNumber).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context19.stop();}}},_callee19);}));return function setPoolBlockNumber(_x38,_x39){return _ref19.apply(this,arguments);};}();export var setPoolBlockTimestamp=/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(pool,blockTimestamp){var account,poolContract;return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return checkConnectedAndGetAddress();case 2:account=_context20.sent;poolContract=new window.web3.eth.Contract(mockPoolAbi,pool);_context20.next=6;return poolContract.methods.setBlockTimestamp(new BigNumber(blockTimestamp).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context20.stop();}}},_callee20);}));return function setPoolBlockTimestamp(_x40,_x41){return _ref20.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/huanwen/Work/Cook/cook-frontend/src/utils/web3.js"],"names":["Web3","BigNumber","notify","poolAbi","require","mockPoolAbi","distributionAbi","dollarAbi","oracleAbi","priceComsumerAbi","UINT256_MAX","approve","tokenAddr","spender","callback","amt","checkConnectedAndGetAddress","account","oToken","window","web3","eth","Contract","methods","send","from","on","hash","updateModalMode","theme","darkMode","connect","ethereum","getAccounts","addresses","length","enable","console","log","toLowerCase","stake","pool","amount","poolContract","toFixed","unstake","claim","zap","harvest","withdraw","cookDistribution","distributionContract","getWithdrawRecords","getPastEvents","filter","userAddress","fromBlock","events","distributionZap","poolAddress","setDay","dayNumber","setToday","setCookPrice","oracle","price","oracleContract","set","updatePriceFeed","setWETHPrice","priceComsumer","priceComsumerContract","setPoolStakeLockupDuration","lockupDays","setStakeLockupDuration","setPoolRewardPerBlock","rewards","setRewardPerBlock","setPoolBlockNumber","blockNumber","setBlockNumber","setPoolBlockTimestamp","blockTimestamp","setBlockTimestamp"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\nimport Web3 from 'web3';\nimport BigNumber from 'bignumber.js';\n\nimport { notify } from './txNotifier.ts';\nconst poolAbi = require('../constants/abi/Pool.json');\nconst mockPoolAbi = require('../constants/abi/MockPool.json');\nconst distributionAbi = require('../constants/abi/TokenDistribution.json');\nconst dollarAbi = require('../constants/abi/Dollar.json');\nconst oracleAbi = require('../constants/abi/Oracle.json');\nconst priceComsumerAbi = require('../constants/abi/PriceConsumer.json');\nconst UINT256_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\n\n\n/**\n * ERC20 Utilities\n */\n\nexport const approve = async (tokenAddr, spender, callback, amt = UINT256_MAX, ) => {\n  const account = await checkConnectedAndGetAddress();\n  const oToken = new window.web3.eth.Contract(dollarAbi, tokenAddr);\n  await oToken.methods\n    .approve(spender, amt)\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      if (callback) {\n        callback(hash);\n      }\n    });\n};\n\n\n/**\n * Connection Utilities\n */\n\nexport const updateModalMode = async (theme) => {\n  window.darkMode = theme === 'dark';\n};\n\nexport const connect = async () => {\n  window.web3 = new Web3(window.ethereum);\n\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  }\n\n  return addresses.length ? addresses[0].toLowerCase() : null;\n};\n\n// eslint-disable-next-line consistent-return\nexport const checkConnectedAndGetAddress = async () => {\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n      // eslint-disable-next-line no-empty\n    } catch (e) { }\n  }\n\n  return addresses[0];\n};\n\n/**\n * Pool\n */\nexport const stake = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .stake(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const unstake = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .unstake(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const claim = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .claim(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const zap = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .zap(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const harvest = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .harvest(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\n// token distribution\n\nexport const withdraw = async (cookDistribution, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const distributionContract = new window.web3.eth.Contract(distributionAbi, cookDistribution);\n  await distributionContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n\nexport const getWithdrawRecords = async (cookDistribution) => {\n  const account = await checkConnectedAndGetAddress();\n  const distributionContract = new window.web3.eth.Contract(distributionAbi, cookDistribution);\n  const events = await distributionContract.getPastEvents('TokensWithdrawal', {\n    filter: { userAddress:account },\n    fromBlock: 0,\n  });\n  return events;\n};\n\nexport const distributionZap = async (cookDistribution, poolAddress, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const distributionContract = new window.web3.eth.Contract(distributionAbi, cookDistribution);\n  await distributionContract.methods\n    .zap(new BigNumber(amount).toFixed(),poolAddress)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\n\n/** Admin functions (TESTING ONLY) */\nexport const setDay = async (cookDistribution, dayNumber) => {\n  const account = await checkConnectedAndGetAddress();\n  const distributionContract = new window.web3.eth.Contract(distributionAbi, cookDistribution);\n  await distributionContract.methods\n    .setToday(new BigNumber(dayNumber))\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const setCookPrice = async (oracle, price) => {\n  const account = await checkConnectedAndGetAddress();\n  const oracleContract = new window.web3.eth.Contract(oracleAbi, oracle);\n  await oracleContract.methods\n    .set(new BigNumber(price))\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n// deployer account only\nexport const updatePriceFeed = async (cookDistribution) => {\n  const account = await checkConnectedAndGetAddress();\n  const distributionContract = new window.web3.eth.Contract(distributionAbi, cookDistribution);\n  await distributionContract.methods\n    .updatePriceFeed()\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const setWETHPrice = async (priceComsumer, price) => {\n  const account = await checkConnectedAndGetAddress();\n  const priceComsumerContract = new window.web3.eth.Contract(priceComsumerAbi, priceComsumer);\n  await priceComsumerContract.methods\n    .set(new BigNumber(price))\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const setPoolStakeLockupDuration = async (pool, lockupDays) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(mockPoolAbi, pool);\n  await poolContract.methods\n    .setStakeLockupDuration(new BigNumber(lockupDays).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const setPoolRewardPerBlock = async (pool, rewards) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(mockPoolAbi, pool);\n  await poolContract.methods\n    .setRewardPerBlock(new BigNumber(rewards).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const setPoolBlockNumber = async (pool, blockNumber) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(mockPoolAbi, pool);\n  await poolContract.methods\n    .setBlockNumber(new BigNumber(blockNumber).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const setPoolBlockTimestamp = async (pool, blockTimestamp) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(mockPoolAbi, pool);\n  await poolContract.methods\n    .setBlockTimestamp(new BigNumber(blockTimestamp).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n"]},"metadata":{},"sourceType":"module"}