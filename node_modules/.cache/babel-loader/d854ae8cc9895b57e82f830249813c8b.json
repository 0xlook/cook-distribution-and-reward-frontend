{"ast":null,"code":"var _jsxFileName = \"/Users/huanwen/Work/cook-frontend/src/components/Distribution/Withdraw.tsx\";\nimport React, { useState } from 'react';\nimport { Box, Table, TableHeader, TableRow, TableCell, Text } from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport { Container, Row, Col } from 'react-grid-system';\nimport { BalanceBlock, MaxButton } from '../common/index';\nimport { withdraw } from '../../utils/web3';\nimport { toBaseUnitBN, toTokenUnitsBN } from '../../utils/number';\nimport { COOK } from \"../../constants/tokens\";\nimport { CookDistribution } from \"../../constants/contracts\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport colors from '../../constants/colors';\nimport ActionButton from \"../common/ActionButton\";\n\nfunction Withdraw({\n  user,\n  vestingAmount,\n  availableAmount,\n  records\n}) {\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 50,\n      paddingTop: '2%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    heading: \"Claim\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BalanceBlock, {\n    asset: \"Total Available\",\n    balance: availableAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BigNumberInput, {\n    adornment: \"COOK\",\n    value: withdrawAmount,\n    setter: setWithdrawAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MaxButton, {\n    onClick: () => {\n      setWithdrawAmount(availableAmount);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    md: 4,\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ActionButton, {\n    label: \"CLAIM\",\n    color: colors.button,\n    onClick: () => {\n      withdraw(CookDistribution, toBaseUnitBN(withdrawAmount, COOK.decimals));\n    },\n    disabled: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }))))), records.length > 0 ? /*#__PURE__*/React.createElement(Table, {\n    header: /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      title: \"Withdraw records\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"hash\")), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"amount\"))), records.map(record => {\n    let tokenAmount = toTokenUnitsBN(record.returnValues.amount, COOK.decimals);\n    return /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, record.transactionHash)), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, tokenAmount.toString())));\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null));\n}\n\nexport default Withdraw;","map":{"version":3,"sources":["/Users/huanwen/Work/cook-frontend/src/components/Distribution/Withdraw.tsx"],"names":["React","useState","Box","Table","TableHeader","TableRow","TableCell","Text","BigNumber","Container","Row","Col","BalanceBlock","MaxButton","withdraw","toBaseUnitBN","toTokenUnitsBN","COOK","CookDistribution","BigNumberInput","colors","ActionButton","Withdraw","user","vestingAmount","availableAmount","records","withdrawAmount","setWithdrawAmount","marginBottom","paddingTop","textAlign","button","decimals","length","map","record","tokenAmount","returnValues","amount","transactionHash","toString"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SACEC,GADF,EACOC,KADP,EACcC,WADd,EAC2BC,QAD3B,EACqCC,SADrC,EACgDC,IADhD,QAEO,YAFP;AAGA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAoC,mBAApC;AACA,SACEC,YADF,EACgBC,SADhB,QAEO,iBAFP;AAGA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,YAAR,EAAqBC,cAArB,QAA0C,oBAA1C;AACA,SAAQC,IAAR,QAAmB,wBAAnB;AACA,SAAQC,gBAAR,QAA+B,2BAA/B;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;;AASA,SAASC,QAAT,CAAkB;AAChBC,EAAAA,IADgB;AACVC,EAAAA,aADU;AACKC,EAAAA,eADL;AACsBC,EAAAA;AADtB,CAAlB,EAEkB;AAChB,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsC3B,QAAQ,CAAC,IAAIO,SAAJ,CAAc,CAAd,CAAD,CAApD;AAEA,sBACE;AAAK,IAAA,KAAK,EAAE;AAACqB,MAAAA,YAAY,EAAC,EAAd;AAAkBC,MAAAA,UAAU,EAAE;AAA9B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAoB,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAC,iBAApB;AAAsC,IAAA,OAAO,EAAEL,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAApB,CADA,eAEA,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,cAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,IAAA,KAAK,EAAEE,cAFT;AAGE,IAAA,MAAM,EAAEC,iBAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAMA,oBAAC,SAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACbA,MAAAA,iBAAiB,CAACH,eAAD,CAAjB;AACD,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANA,CAFA,eAaA,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,CAAjB;AAAoB,IAAA,KAAK,EAAE;AAACM,MAAAA,SAAS,EAAC;AAAX,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE,OAArB;AAA8B,IAAA,KAAK,EAAEX,MAAM,CAACY,MAA5C;AAAoD,IAAA,OAAO,EAAE,MAAI;AAC/DlB,MAAAA,QAAQ,CACNI,gBADM,EAENH,YAAY,CAACY,cAAD,EAAiBV,IAAI,CAACgB,QAAtB,CAFN,CAAR;AAID,KALD;AAKG,IAAA,QAAQ,EAAE,KALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAbA,CADA,CADJ,CADA,EA2BCP,OAAO,CAACQ,MAAR,GAAiB,CAAjB,gBACC,oBAAC,KAAD;AACA,IAAA,MAAM,eACJ,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAC,kBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMA,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADF,eAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAJF,CANA,EAcCR,OAAO,CAACS,GAAR,CAAYC,MAAM,IAAI;AACrB,QAAIC,WAAqB,GAAGrB,cAAc,CAACoB,MAAM,CAACE,YAAP,CAAoBC,MAArB,EAA4BtB,IAAI,CAACgB,QAAjC,CAA1C;AACA,wBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOG,MAAM,CAACI,eAAd,CADF,CADF,eAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,WAAW,CAACI,QAAZ,EAAP,CADF,CAJF,CADF;AAUD,GAZA,CAdD,CADD,gBA4BQ,yCAvDT,CADF;AA4DD;;AAED,eAAenB,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box, Table, TableHeader, TableRow, TableCell, Text\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport { Container, Row, Col } from 'react-grid-system';\nimport {\n  BalanceBlock, MaxButton\n} from '../common/index';\nimport {withdraw} from '../../utils/web3';\nimport {toBaseUnitBN,toTokenUnitsBN} from '../../utils/number';\nimport {COOK} from \"../../constants/tokens\";\nimport {CookDistribution} from \"../../constants/contracts\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport colors from '../../constants/colors';\nimport ActionButton from \"../common/ActionButton\";\n\ntype WithdrawProps = {\n  user: string\n  vestingAmount: BigNumber,\n  availableAmount: BigNumber,\n  records: Array<{transactionHash: string; returnValues:{amount:string}}>\n};\n\nfunction Withdraw({\n  user, vestingAmount, availableAmount, records\n}: WithdrawProps) {\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <div style={{marginBottom:50, paddingTop: '2%'}}>\n    <Box heading=\"Claim\">\n        <Container>\n        <Row>\n        <Col xs={12} md={4}><BalanceBlock asset=\"Total Available\" balance={availableAmount}/></Col>\n        <Col xs={12} md={4}>\n        <BigNumberInput\n          adornment=\"COOK\"\n          value={withdrawAmount}\n          setter={setWithdrawAmount}\n        />\n        <MaxButton\n          onClick={() => {\n            setWithdrawAmount(availableAmount);\n          }}\n        /></Col>\n        <Col xs={12} md={4} style={{textAlign:\"center\"}}>\n        <ActionButton label={\"CLAIM\"} color={colors.button} onClick={()=>{\n          withdraw(\n            CookDistribution,\n            toBaseUnitBN(withdrawAmount, COOK.decimals),\n          );\n        }} disabled={false}/></Col>\n        </Row>\n        </Container>\n\n    </Box>\n    {records.length > 0?\n      <Table\n      header={\n        <TableRow>\n          <TableHeader title=\"Withdraw records\" />\n        </TableRow>\n      }>\n      <TableRow>\n        <TableCell>\n          <Text>hash</Text>\n        </TableCell>\n        <TableCell>\n          <Text>amount</Text>\n        </TableCell>\n      </TableRow>\n      {records.map(record => {\n        let tokenAmount:BigNumber = toTokenUnitsBN(record.returnValues.amount,COOK.decimals);\n        return(\n          <TableRow>\n            <TableCell>\n              <Text>{record.transactionHash}</Text>\n            </TableCell>\n            <TableCell>\n              <Text>{tokenAmount.toString()}</Text>\n            </TableCell>\n          </TableRow>\n        )\n      })}\n    </Table>:<></>\n    }\n    </div>\n  );\n}\n\nexport default Withdraw;\n"]},"metadata":{},"sourceType":"module"}