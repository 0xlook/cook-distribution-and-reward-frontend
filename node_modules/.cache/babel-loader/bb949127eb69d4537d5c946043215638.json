{"ast":null,"code":"import _slicedToArray from\"/Users/huanwen/Work/Cook/cook-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Modal,Text}from'@aragon/ui';import BigNumber from'bignumber.js';import{Container,Row,Col}from'react-grid-system';import{BalanceBlock}from'../common/index';import{withdraw}from'../../utils/web3';import{toBaseUnitBN}from'../../utils/number';import{COOK}from\"../../constants/tokens\";import{CookDistribution}from\"../../constants/contracts\";import BigNumberInput from\"../common/BigNumberInput\";import colors from'../../constants/colors';import ActionButton from\"../common/ActionButton\";function Withdraw(_ref){var user=_ref.user,vestingAmount=_ref.vestingAmount,availableAmount=_ref.availableAmount,records=_ref.records;var _useState=useState(new BigNumber(0)),_useState2=_slicedToArray(_useState,2),withdrawAmount=_useState2[0],setWithdrawAmount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),opened=_useState4[0],setOpened=_useState4[1];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ActionButton,{label:\"CLAIM\",color:colors.button,onClick:function onClick(){setOpened(true);},disabled:!user}),/*#__PURE__*/React.createElement(Modal,{visible:opened,onClose:function onClose(){return setOpened(false);}},/*#__PURE__*/React.createElement(Text,null,\"Claim\"),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(BalanceBlock,{asset:\"Total Available\",balance:availableAmount,type:\"row\",suffix:\"COOK\"})),/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(BigNumberInput,{adornment:\"COOK\",max:function max(){setWithdrawAmount(availableAmount);},value:withdrawAmount,setter:setWithdrawAmount})),/*#__PURE__*/React.createElement(Col,{xs:12,style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(ActionButton,{label:\"CLAIM\",color:colors.button,onClick:function onClick(){withdraw(CookDistribution,toBaseUnitBN(withdrawAmount,COOK.decimals));},disabled:false}))))));}export default Withdraw;","map":{"version":3,"sources":["/Users/huanwen/Work/Cook/cook-frontend/src/components/Distribution/Withdraw.tsx"],"names":["React","useState","Modal","Text","BigNumber","Container","Row","Col","BalanceBlock","withdraw","toBaseUnitBN","COOK","CookDistribution","BigNumberInput","colors","ActionButton","Withdraw","user","vestingAmount","availableAmount","records","withdrawAmount","setWithdrawAmount","opened","setOpened","button","textAlign","decimals"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OACEC,KADF,CACSC,IADT,KAEO,YAFP,CAGA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,mBAApC,CACA,OACEC,YADF,KAEO,iBAFP,CAGA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,OAAQC,YAAR,KAA2B,oBAA3B,CACA,OAAQC,IAAR,KAAmB,wBAAnB,CACA,OAAQC,gBAAR,KAA+B,2BAA/B,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CASA,QAASC,CAAAA,QAAT,MAEkB,IADhBC,CAAAA,IACgB,MADhBA,IACgB,CADVC,aACU,MADVA,aACU,CADKC,eACL,MADKA,eACL,CADsBC,OACtB,MADsBA,OACtB,eAC4BnB,QAAQ,CAAC,GAAIG,CAAAA,SAAJ,CAAc,CAAd,CAAD,CADpC,wCACTiB,cADS,eACOC,iBADP,8BAEYrB,QAAQ,CAAC,KAAD,CAFpB,yCAETsB,MAFS,eAEDC,SAFC,eAGhB,mBACE,4CACA,oBAAC,YAAD,EAAc,KAAK,CAAE,OAArB,CAA8B,KAAK,CAAEV,MAAM,CAACW,MAA5C,CAAoD,OAAO,CAAE,kBAAI,CAC/DD,SAAS,CAAC,IAAD,CAAT,CACD,CAFD,CAEG,QAAQ,CAAE,CAACP,IAFd,EADA,cAIA,oBAAC,KAAD,EAAO,OAAO,CAAEM,MAAhB,CAAwB,OAAO,CAAE,yBAAIC,CAAAA,SAAS,CAAC,KAAD,CAAb,EAAjC,eACE,oBAAC,IAAD,cADF,cAEI,oBAAC,SAAD,mBACA,oBAAC,GAAD,mBACA,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eAAc,oBAAC,YAAD,EAAc,KAAK,CAAC,iBAApB,CAAsC,OAAO,CAAEL,eAA/C,CAAgE,IAAI,CAAE,KAAtE,CAA6E,MAAM,CAAE,MAArF,EAAd,CADA,cAEA,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,oBAAC,cAAD,EACE,SAAS,CAAC,MADZ,CAEE,GAAG,CAAE,cAAM,CACTG,iBAAiB,CAACH,eAAD,CAAjB,CACD,CAJH,CAKE,KAAK,CAAEE,cALT,CAME,MAAM,CAAEC,iBANV,EADA,CAFA,cAYA,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,KAAK,CAAE,CAACI,SAAS,CAAC,QAAX,CAApB,eACA,oBAAC,YAAD,EAAc,KAAK,CAAE,OAArB,CAA8B,KAAK,CAAEZ,MAAM,CAACW,MAA5C,CAAoD,OAAO,CAAE,kBAAI,CAC/DhB,QAAQ,CACNG,gBADM,CAENF,YAAY,CAACW,cAAD,CAAiBV,IAAI,CAACgB,QAAtB,CAFN,CAAR,CAID,CALD,CAKG,QAAQ,CAAE,KALb,EADA,CAZA,CADA,CAFJ,CAJA,CADF,CAkCD,CAED,cAAeX,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Modal, Text\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport { Container, Row, Col } from 'react-grid-system';\nimport {\n  BalanceBlock\n} from '../common/index';\nimport {withdraw} from '../../utils/web3';\nimport {toBaseUnitBN} from '../../utils/number';\nimport {COOK} from \"../../constants/tokens\";\nimport {CookDistribution} from \"../../constants/contracts\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport colors from '../../constants/colors';\nimport ActionButton from \"../common/ActionButton\";\n\ntype WithdrawProps = {\n  user: string\n  vestingAmount: BigNumber,\n  availableAmount: BigNumber,\n  records: Array<{transactionHash: string; returnValues:{amount:string}}>\n};\n\nfunction Withdraw({\n  user, vestingAmount, availableAmount, records\n}: WithdrawProps) {\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n  const [opened, setOpened] = useState(false)\n  return (\n    <div>\n    <ActionButton label={\"CLAIM\"} color={colors.button} onClick={()=>{\n      setOpened(true)\n    }} disabled={!user}/>\n    <Modal visible={opened} onClose={()=>setOpened(false)}>\n      <Text>Claim</Text>\n        <Container>\n        <Row>\n        <Col xs={12} ><BalanceBlock asset=\"Total Available\" balance={availableAmount} type={\"row\"} suffix={\"COOK\"}/></Col>\n        <Col xs={12} >\n        <BigNumberInput\n          adornment=\"COOK\"\n          max={() => {\n            setWithdrawAmount(availableAmount);\n          }}\n          value={withdrawAmount}\n          setter={setWithdrawAmount}\n        />\n        </Col>\n        <Col xs={12} style={{textAlign:\"center\"}}>\n        <ActionButton label={\"CLAIM\"} color={colors.button} onClick={()=>{\n          withdraw(\n            CookDistribution,\n            toBaseUnitBN(withdrawAmount, COOK.decimals),\n          );\n        }} disabled={false}/></Col>\n        </Row>\n        </Container>\n\n    </Modal>\n\n    </div>\n  );\n}\n\nexport default Withdraw;\n"]},"metadata":{},"sourceType":"module"}